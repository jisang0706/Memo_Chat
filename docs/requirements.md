# 📄 Memo Chat - 요구사항 명세서

## 1. 개요

**Memo Chat**은 메모장 형태의 실시간 채팅 앱으로, 학교나 회사 환경에서 메모장처럼 위장된 UI를 통해 자연스럽게 소통할 수 있도록 설계된 미니멀리즘 기반의 멀티플랫폼 애플리케이션이다.  
본 애플리케이션은 모바일, 웹, 데스크탑을 모두 지원하며, 백엔드는 FastAPI를 기반으로, 사용자 정보는 PostgreSQL, 메모/채팅 데이터는 MongoDB에 저장된다.

---

## 2. 시스템 비전 및 목표

- **빠른 진입성과 위장된 UI**를 통해 회사나 학교에서도 사용 가능한 커뮤니케이션 도구 제공
- 실시간 메모/채팅 기능
- 로그인 없이도 접근 가능한 URL 기반 입장 구조
- 로그인 시 알림, 기록 저장, 사용자 맞춤형 기능 제공
- 미니멀한 UX/UI 기반

---

## 3. 주요 사용자

| 사용자 유형 | 설명 |
|-------------|------|
| 비회원 사용자 | 로그인 없이 URL을 통해 입장 가능. 닉네임 입력 필요. |
| 로그인 사용자 | OAuth2 기반 로그인(Google, Kakao 등). 알림 및 기록 저장 가능. |

---

## 4. 기능 요구사항

### 4.1 메모장 생성
- 사용자는 새로운 메모장을 생성할 수 있다.
- 생성 시 고유한 URL이 발급된다.

### 4.2 메모장 입장
- 사용자는 메모장 URL로 입장 가능하다.
- 입장 시 닉네임을 수동 입력하거나 랜덤 닉네임을 사용할 수 있다.
- 로그인 사용자는 OAuth 프로필 이름이 자동 사용된다.

### 4.3 실시간 메모 작성
- WebSocket을 통한 실시간 입력/수신
- 동시에 여러 사용자가 입력 가능

### 4.4 선택적 로그인
- Google, Kakao, Apple OAuth 로그인 지원
- 로그인 시 알림 수신, 최근 메모장 기록, 설정 저장 기능이 제공된다

### 4.5 메모장 나가기 및 관리
- 사용자는 언제든지 메모장에서 나갈 수 있다
- 로그인 사용자는 참여/생성 메모장 목록을 조회 가능

---

## 5. 비기능 요구사항

| 항목 | 요구사항 |
|------|----------|
| 성능 | 실시간 입력 지연 0.5초 이하 |
| 보안 | JWT 기반 인증, 비회원은 별도 식별자 부여 |
| 호환성 | Flutter 기반 Android/iOS/Web/macOS/Windows 지원 |
| 국제화 | i18n (최소 한국어/영어) |
| 유지보수성 | 모듈화된 디렉토리 구조, 테스트 코드 지원 예정 |
| 테스트 | Flutter 단위 테스트, FastAPI 테스트코드 작성 예정 |

---

## 6. 데이터베이스 설계

### 6.1 PostgreSQL (정형 사용자 데이터)

- `users` 테이블: id, email, nickname, oauth_provider
- `sessions` 테이블: 로그인 이력, 알림 설정 등
- `joined_rooms` 테이블: 사용자가 참여한 메모장 목록

### 6.2 MongoDB (비정형 메모/채팅 데이터)

- `rooms` 컬렉션: _id, title, creator_id, created_at
- `messages` 컬렉션: _id, room_id, sender, content, timestamp

---

## 7. 향후 확장 기능

| 기능 | 설명 |
|------|------|
| 친구 추가 및 초대 기능 | URL 없이도 대화방 참여 가능 |
| 이미지, 이모티콘 입력 | 입력 UI 및 렌더링 개선 |
| 테마 설정 | 다크모드, 배경 스타일 지정 등 |
| 다국어 지원 | 다국어에 따라 UI 문자열 자동 전환

---

## 8. 시스템 구조

- 프론트엔드: Flutter + WebSocket + OAuth 연동
- 백엔드: FastAPI + PostgreSQL + MongoDB
- 배포: AWS EC2, Docker, GitHub Actions (선택)

